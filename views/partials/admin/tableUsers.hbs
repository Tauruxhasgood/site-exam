{{! 
    route: /admin
    Partial: table User
 }}

<table class="table table-sm table-bordered">
  {{! LEGENDE TABLEAU }}
  <thead>
    {{! TITRES ELEMENTS TABLEAU }}
    <tr>
      <th scope="col">id</th>
      <th scope="col">Nom</th>
      <th scope="col">Email</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  {{! CONTENU TABLEAU }}
  <tbody>
    {{!-- listUser qui est déclaré dans le GET de adminController --}}
    {{#each listUser}}

      <tr>
        {{! inc permet d'incrémenter l'id, si l'on supprime un utilisateurs,
         les id vont automatiquement se réattribuer dans l'ordre. Ne touche pas au ID de l'user de la db }}
        <th scope="row"> {{inc @index}} : {{ this.id }} </th>
        <td>{{ this.name }}</td>
        <td>{{ this.email }}</td>
        
        <td class="d-flex justify-content-center">
          <button
            type="button"
            name="id"
            class="btn btn-danger px-3"
            data-bs-toggle="modal"
            {{! permet de donner l'id de l'utilisateur }}
            data-bs-target="#modalDelete{{ this.id }}"
          ><i class="far fa-trash-alt"></i></button>
          <button
            type="button"
            name="id"
            class="btn btn-success ms-2 ps-3"
            data-bs-toggle="modal"
            data-bs-target="#editUser{{ this.id }}"
          ><i class="far fa-edit"></i></button>
        </td>

        <!-- MODAL DELETE ET EDIT -->

        {{> modals/modalDeleteUser user=this }}
        {{!-- user=this correspond à  --}}

        {{> modals/modalEditUser user=this }}

      </tr>
    {{/each}}
  </tbody>
</table>

{{! BOUTON APPLIQUER LES MODIFS }}
<div class="d-flex justify-content-end pb-5">
  <!-- Button trigger modal -->
  <form action="" method="">
    {{!-- <button
      type="button"
      class="btn btn-success"
      data-bs-toggle="modal"
      data-bs-target="#changeStatus"
    >
      Appliquer les modifications
    </button> --}}
  </form>

  <!-- MODAL APPLIQUER LES MODIFS -->
  {{!-- <div
    class="modal fade"
    id="changeStatus{{this.name}}"
    tabindex="-1"
    aria-labelledby="changeStatusLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="changeStatusLabel">Êtes vous sûr de
            vouloir supprimer cet utilisateur ?</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body text-dark">
          : Changer le statut de ?? vers ??
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-danger"
            data-bs-dismiss="modal"
          >Annuler</button>
          <button type="button" class="btn btn-success">Appliquer</button>
        </div>
      </div>
    </div>
  </div> --}}

</div>
